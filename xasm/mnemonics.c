#include <xasm.h>

const char* mnemonics[] = {
    [XVM_OP_MOV] = "mov",
    [XVM_OP_MOVB] = "movb",
    [XVM_OP_MOVW] = "movw",
    [XVM_OP_CMOVE] = "cmove",
    [XVM_OP_CMOVEW] = "cmovew",
    [XVM_OP_CMOVEB] = "cmoveb",
    [XVM_OP_CMOVZ] = "cmovz",
    [XVM_OP_CMOVZW] = "cmovzw",
    [XVM_OP_CMOVZB] = "cmovzb",
    [XVM_OP_CMOVNE] = "cmovne",
    [XVM_OP_CMOVNEW] = "cmovnew",
    [XVM_OP_CMOVNEB] = "cmovneb",
    [XVM_OP_CMOVNZ] = "cmovnz",
    [XVM_OP_CMOVNZW] = "cmovnzw",
    [XVM_OP_CMOVNZB] = "cmovnzb",
    [XVM_OP_CMOVA] = "cmova",
    [XVM_OP_CMOVAW] = "cmovaw",
    [XVM_OP_CMOVAB] = "cmovab",
    [XVM_OP_CMOVAE] = "cmovae",
    [XVM_OP_CMOVAEW] = "cmovaew",
    [XVM_OP_CMOVAEB] = "cmovaeb",
    [XVM_OP_CMOVB] = "cmovb",
    [XVM_OP_CMOVBW] = "cmovbw",
    [XVM_OP_CMOVBB] = "cmovbb",
    [XVM_OP_CMOVBE] = "cmovbe",
    [XVM_OP_CMOVBEW] = "cmovbew",
    [XVM_OP_CMOVBEB] = "cmovbeb",
    [XVM_OP_LEA] = "lea",
    [XVM_OP_NOP] = "nop",
    [XVM_OP_HLT] = "hlt",
    [XVM_OP_RET] = "ret",
    [XVM_OP_CALL] = "call",
    [XVM_OP_SYSC] = "syscall",
    [XVM_OP_TRAP] = "trap",
    [XVM_OP_LSU] = "lsu",
    [XVM_OP_RSU] = "rsu",
    [XVM_OP_ADD] = "add",
    [XVM_OP_ADDB] = "addb",
    [XVM_OP_ADDW] = "addw",
    [XVM_OP_SUB] = "sub",
    [XVM_OP_SUBB] = "subb",
    [XVM_OP_SUBW] = "subw",
    [XVM_OP_MUL] = "mul",
    [XVM_OP_MULB] = "mulb",
    [XVM_OP_MULW] = "mulw",
    [XVM_OP_DIV] = "div",
    [XVM_OP_DIVB] = "divb",
    [XVM_OP_DIVW] = "divw",
    [XVM_OP_XOR] = "xor",
    [XVM_OP_XORB] = "xorb",
    [XVM_OP_XORW] = "xorw",
    [XVM_OP_AND] = "and",
    [XVM_OP_ANDB] = "andb",
    [XVM_OP_ANDW] = "andw",
    [XVM_OP_OR] = "or",
    [XVM_OP_ORB] = "orb",
    [XVM_OP_ORW] = "orw",
    [XVM_OP_NOT] = "not",
    [XVM_OP_NOTB] = "notb",
    [XVM_OP_NOTW] = "notw",
    [XVM_OP_PUSH] = "push",
    [XVM_OP_PUSHA] = "pusha",
    [XVM_OP_POP] = "pop",
    [XVM_OP_POPA] = "popa",
    [XVM_OP_XCHG] = "xchg",
    [XVM_OP_INC] = "inc",
    [XVM_OP_DEC] = "dec",
    [XVM_OP_CMP] = "cmp",
    [XVM_OP_CMPB] = "cmpb",
    [XVM_OP_CMPW] = "cmpw",
    [XVM_OP_TEST] = "test",
    [XVM_OP_JMP] = "jmp",
    [XVM_OP_JZ] = "jz",
    [XVM_OP_JE] = "je",
    [XVM_OP_JNZ] = "jnz",
    [XVM_OP_JNE] = "jne",
    [XVM_OP_JA] = "ja",
    [XVM_OP_JG] = "jg",
    [XVM_OP_JB] = "jb",
    [XVM_OP_JL] = "jl",
    [XVM_OP_JAE] = "jae",
    [XVM_OP_JGE] = "jge",
    [XVM_OP_JBE] = "jbe",
    [XVM_OP_JLE] = "jle",
    [XVM_OP_RJMP] = "rjmp",
    [XVM_OP_RJZ] = "rjz",
    [XVM_OP_RJE] = "rje",
    [XVM_OP_RJNZ] = "rjnz",
    [XVM_OP_RJNE] = "rjne",
    [XVM_OP_RJA] = "rja",
    [XVM_OP_RJG] = "rjg",
    [XVM_OP_RJB] = "rjb",
    [XVM_OP_RJL] = "rjl",
    [XVM_OP_RJGE] = "rjge",
    [XVM_OP_RJAE] = "rjae",
    [XVM_OP_RJLE] = "rjle",
    [XVM_OP_RJBE] = "rjbe",
};

const int inst_to_args_dict[] = {
    [XVM_OP_MOV] = ARG2,
    [XVM_OP_MOVB] = ARG2,
    [XVM_OP_MOVW] = ARG2,
    [XVM_OP_CMOVE] = ARG2,
    [XVM_OP_CMOVEW] = ARG2,
    [XVM_OP_CMOVEB] = ARG2,
    [XVM_OP_CMOVZ] = ARG2,
    [XVM_OP_CMOVZW] = ARG2,
    [XVM_OP_CMOVZB] = ARG2,
    [XVM_OP_CMOVNE] = ARG2,
    [XVM_OP_CMOVNEW] = ARG2,
    [XVM_OP_CMOVNEB] = ARG2,
    [XVM_OP_CMOVNZ] = ARG2,
    [XVM_OP_CMOVNZW] = ARG2,
    [XVM_OP_CMOVNZB] = ARG2,
    [XVM_OP_CMOVA] = ARG2,
    [XVM_OP_CMOVAW] = ARG2,
    [XVM_OP_CMOVAB] = ARG2,
    [XVM_OP_CMOVAE] = ARG2,
    [XVM_OP_CMOVAEW] = ARG2,
    [XVM_OP_CMOVAEB] = ARG2,
    [XVM_OP_CMOVB] = ARG2,
    [XVM_OP_CMOVBW] = ARG2,
    [XVM_OP_CMOVBB] = ARG2,
    [XVM_OP_CMOVBE] = ARG2,
    [XVM_OP_CMOVBEW] = ARG2,
    [XVM_OP_CMOVBEB] = ARG2,
    [XVM_OP_LEA] = ARG2,
    [XVM_OP_NOP] = ARG0,
    [XVM_OP_HLT] = ARG0,
    [XVM_OP_RET] = ARG0,
    [XVM_OP_CALL] = ARG1,
    [XVM_OP_SYSC] = ARG0,
    [XVM_OP_LSU] = ARG2,
    [XVM_OP_RSU] = ARG2,
    [XVM_OP_ADD] = ARG2,
    [XVM_OP_ADDB] = ARG2,
    [XVM_OP_ADDW] = ARG2,
    [XVM_OP_SUB] = ARG2,
    [XVM_OP_SUBB] = ARG2,
    [XVM_OP_SUBW] = ARG2,
    [XVM_OP_MUL] = ARG2,
    [XVM_OP_MULB] = ARG2,
    [XVM_OP_MULW] = ARG2,
    [XVM_OP_DIV] = ARG2,
    [XVM_OP_DIVB] = ARG2,
    [XVM_OP_DIVW] = ARG2,
    [XVM_OP_XOR] = ARG2,
    [XVM_OP_XORB] = ARG2,
    [XVM_OP_XORW] = ARG2,
    [XVM_OP_AND] = ARG2,
    [XVM_OP_ANDB] = ARG2,
    [XVM_OP_ANDW] = ARG2,
    [XVM_OP_OR] = ARG2,
    [XVM_OP_ORB] = ARG2,
    [XVM_OP_ORW] = ARG2,
    [XVM_OP_NOT] = ARG1,
    [XVM_OP_NOTB] = ARG1,
    [XVM_OP_NOTW] = ARG1,
    [XVM_OP_PUSH] = ARG1,
    [XVM_OP_PUSHA] = ARG1,
    [XVM_OP_POP] = ARG1,
    [XVM_OP_POPA] = ARG0,
    [XVM_OP_XCHG] = ARG2,
    [XVM_OP_INC] = ARG1,
    [XVM_OP_DEC] = ARG1,
    [XVM_OP_CMP] = ARG2,
    [XVM_OP_CMPB] = ARG2,
    [XVM_OP_CMPW] = ARG2,
    [XVM_OP_TEST] = ARG2,
    [XVM_OP_JMP] = ARG1,
    [XVM_OP_JZ] = ARG1,
    [XVM_OP_JE] = ARG1,
    [XVM_OP_JNZ] = ARG1,
    [XVM_OP_JNE] = ARG1,
    [XVM_OP_JA] = ARG1,
    [XVM_OP_JG] = ARG1,
    [XVM_OP_JB] = ARG1,
    [XVM_OP_JL] = ARG1,
    [XVM_OP_JAE] = ARG1,
    [XVM_OP_JGE] = ARG1,
    [XVM_OP_JBE] = ARG1,
    [XVM_OP_JLE] = ARG1,
    [XVM_OP_RJMP] = ARG1,
    [XVM_OP_RJZ] = ARG1,
    [XVM_OP_RJE] = ARG1,
    [XVM_OP_RJNZ] = ARG1,
    [XVM_OP_RJNE] = ARG1,
    [XVM_OP_RJA] = ARG1,
    [XVM_OP_RJG] = ARG1,
    [XVM_OP_RJB] = ARG1,
    [XVM_OP_RJL] = ARG1,
    [XVM_OP_RJAE] = ARG1,
    [XVM_OP_RJGE] = ARG1,
    [XVM_OP_RJLE] = ARG1,
    [XVM_OP_RJBE] = ARG1,
};

const char* regid_2_str[XVM_NREGS] = {
    [reg_r0] = "$r0",
    [reg_r1] = "$r1",
    [reg_r2] = "$r2",
    [reg_r3] = "$r3",
    [reg_r4] = "$r4",
    [reg_r5] = "$r5",
    [reg_r6] = "$r6",
    [reg_r7] = "$r7",
    [reg_r8] = "$r8",
    [reg_r9] = "$r9",
    [reg_ra] = "$ra",
    [reg_rb] = "$rb",
    [reg_rc] = "$rc",
    [reg_pc] = "$pc",
    [reg_bp] = "$bp",
    [reg_sp] = "$sp",
};
